<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    .container {
      position: relative;
    }
    form > div {
      margin-bottom: 15px;
    }
    input[type="text"], textarea {
      width: 100%;
      padding: 8px;
      box-sizing: border-box;
    }
    .troll-message {
      margin-top: 20px;
      font-weight: bold;
      color: red;
      background-color: #f8d7da;
      padding: 15px;
      border-radius: 5px;
    }
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Welcome to the Quiz</h1>
    <form id="quizForm" action="submit.html" method="POST">
      <!-- Hidden input to carry username -->
      <input type="hidden" id="userNameInput" name="username" />

      <!-- Q1: Radio example -->
      <div>
        <label>1. Question 1:</label><br />
        <label><input type="radio" name="q1" value="a" /> Option A</label><br />
        <label><input type="radio" name="q1" value="b" /> Option B</label><br />
      </div>

      <!-- Q2: Radio + text -->
      <div>
        <label>2. Question 2:</label><br />
        <label><input type="radio" name="q2" value="a" /> Option A</label><br />
        <label><input type="radio" name="q2" value="b" /> Option B</label><br />
        <textarea id="q2a3" name="q2text" placeholder="Or write your answer (min 10 chars)"></textarea>
      </div>

      <!-- Q3: Radio -->
      <div>
        <label>3. Question 3:</label><br />
        <label><input type="radio" name="q3" value="a" /> Option A</label><br />
        <label><input type="radio" name="q3" value="b" /> Option B</label><br />
      </div>

      <!-- Q4: Radio + text -->
      <div>
        <label>4. Question 4:</label><br />
        <label><input type="radio" name="q4" value="a" /> Option A</label><br />
        <label><input type="radio" name="q4" value="b" /> Option B</label><br />
        <textarea id="q4a3" name="q4text" placeholder="Or write your answer (min 10 chars)"></textarea>
      </div>

      <!-- Q5: Radio -->
      <div>
        <label>5. Question 5:</label><br />
        <label><input type="radio" name="q5" value="a" /> Option A</label><br />
        <label><input type="radio" name="q5" value="b" /> Option B</label><br />
      </div>

      <!-- Q6: Radio + text (2-3 chars) -->
      <div>
        <label>6. Question 6:</label><br />
        <label><input type="radio" name="q6" value="a" /> Option A</label><br />
        <label><input type="radio" name="q6" value="b" /> Option B</label><br />
        <input type="text" id="q6a3" name="q6text" placeholder="Or write 2-3 chars answer" maxlength="3" />
      </div>

      <!-- Q7-Q10: Text inputs (min 10 chars) -->
      <div>
        <label>7. Question 7:</label><br />
        <textarea id="q7" name="q7" placeholder="At least 10 characters"></textarea>
      </div>

      <div>
        <label>8. Question 8:</label><br />
        <textarea id="q8" name="q8" placeholder="At least 10 characters"></textarea>
      </div>

      <div>
        <label>9. Question 9:</label><br />
        <textarea id="q9" name="q9" placeholder="At least 10 characters"></textarea>
      </div>

      <div>
        <label>10. Question 10:</label><br />
        <textarea id="q10" name="q10" placeholder="At least 10 characters"></textarea>
      </div>

      <button type="submit" id="submitBtn" disabled>Submit Quiz</button>
    </form>
  </div>

  <script>
    // Your provided JavaScript, inserted here:

    // Get 'name' from URL query parameter
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    const userName = getQueryParam('name');
    const userNameInput = document.getElementById('userNameInput');
    const form = document.getElementById('quizForm');
    const submitBtn = document.getElementById('submitBtn');

    if (!userName || userName.length < 4 || userName.length > 20) {
      alert('You must enter your name first!');
      window.location.href = 'index.html';
    } else {
      userNameInput.value = userName;
    }

    function validateQ2() {
      const radioChecked = document.querySelector('input[name="q2"]:checked');
      const text = document.getElementById('q2a3').value.trim();
      return radioChecked !== null || text.length >= 10;
    }

    function validateQ4() {
      const radioChecked = document.querySelector('input[name="q4"]:checked');
      const text = document.getElementById('q4a3').value.trim();
      return radioChecked !== null || text.length >= 10;
    }

    function validateQ6() {
      const radioChecked = document.querySelector('input[name="q6"]:checked');
      const text = document.getElementById('q6a3').value.trim();
      return radioChecked !== null || (text.length >= 2 && text.length <= 3);
    }

    function checkFormValidity() {
      const q1 = document.querySelector('input[name="q1"]:checked') !== null;
      const q2 = validateQ2();
      const q3 = document.querySelector('input[name="q3"]:checked') !== null;
      const q4 = validateQ4();
      const q5 = document.querySelector('input[name="q5"]:checked') !== null;
      const q6 = validateQ6();

      const q7 = document.getElementById('q7').value.trim().length >= 10;
      const q8 = document.getElementById('q8').value.trim().length >= 10;
      const q9 = document.getElementById('q9').value.trim().length >= 10;
      const q10 = document.getElementById('q10').value.trim().length >= 10;

      submitBtn.disabled = !(q1 && q2 && q3 && q4 && q5 && q6 && q7 && q8 && q9 && q10);
    }

    form.addEventListener('input', checkFormValidity);

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      form.style.display = 'none';

      const trollDiv = document.createElement('div');
      trollDiv.classList.add('troll-message');
      trollDiv.innerHTML = `
        <p>get scammed lel, I got info from you hehaheuh! ðŸ˜‚ðŸ¤­</p>
        <p>Redirecting to my info page...</p>
      `;
      document.querySelector('.container').appendChild(trollDiv);

      setTimeout(() => {
        form.submit();
      }, 5000);
    });

    // Initial validation on page load in case inputs are autofilled
    checkFormValidity();
  </script>
</body>
</html>