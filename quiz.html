<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    .container {
      position: relative;
    }
    form > div {
      margin-bottom: 15px;
    }
    input[type="text"], textarea {
      width: 100%;
      padding: 8px;
      box-sizing: border-box;
    }
    .troll-message {
      margin-top: 20px;
      font-weight: bold;
      color: red;
      background-color: #f8d7da;
      padding: 15px;
      border-radius: 5px;
    }
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Welcome to the Quiz</h1>
    <form id="quizForm" action="submit.html" method="POST">
      <!-- Hidden input to carry username -->
      <input type="hidden" id="userNameInput" name="username" />

      <!-- Q1: Why did you click this?! Do you like me? -->
      <div>
        <label>1. Why did you click this?! Do you like me? ğŸ˜³</label><br />
        <label><input type="radio" name="q1" value="Yes" /> Yes</label><br />
        <label><input type="radio" name="q1" value="Yes ğŸ™ˆ" /> Yes ğŸ™ˆ</label><br />
      </div>

      <!-- Q2: What kind of habits do you have -->
      <div>
        <label>2. What kind of habits do you have ğŸ‘€</label><br />
        <label><input type="radio" name="q2" value="Chyess â™Ÿï¸" /> Chyess â™Ÿï¸</label><br />
        <label><input type="radio" name="q2" value="Guitaring?! ğŸ¸" /> Guitaring?! ğŸ¸</label><br />
        <textarea id="q2a3" name="q2text" placeholder="Or type your habit here (min 10 chars)"></textarea>
      </div>

      <!-- Q3: Are you Studious or Tumultuous? -->
      <div>
        <label>3. Are you Studious or Tumultuous? ğŸ«µ</label><br />
        <label><input type="radio" name="q3" value="Studious ğŸ“š" /> Studious ğŸ“š</label><br />
        <label><input type="radio" name="q3" value="Tumultuous ğŸ—£ï¸" /> Tumultuous ğŸ—£ï¸</label><br />
      </div>

      <!-- Q4: What's YOUR Favourite kulay?! -->
      <div>
        <label>4. What's YOUR Favourite kulay?! ğŸ³ï¸â€ğŸŒˆğŸ¥¶</label><br />
        <label><input type="radio" name="q4" value="black" /> black</label><br />
        <label><input type="radio" name="q4" value="white" /> white</label><br />
        <textarea id="q4a3" name="q4text" placeholder="Or type your colour here (min 10 chars)"></textarea>
      </div>

      <!-- Q5: What sex are you -->
      <div>
        <label>5. What sex are you ğŸ¤”ğŸ™ƒ</label><br />
        <label><input type="radio" name="q5" value="Men â™‚ï¸" /> Men â™‚ï¸</label><br />
        <label><input type="radio" name="q5" value="Girl â™€ï¸" /> Girl â™€ï¸</label><br />
      </div>

      <!-- Q6: and how old are you? -->
      <div>
        <label>6. and how old are you? 1ï¸âƒ£0ï¸âƒ£ ğŸ˜±</label><br />
        <label><input type="radio" name="q6" value="9 to 12 ğŸ«·" /> 9 to 12 ğŸ«·</label><br />
        <label><input type="radio" name="q6" value="15? ğŸ˜­" /> 15? ğŸ˜­</label><br />
        <input type="text" id="q6a3" name="q6text" placeholder="Or type your age here (2-3 chars max)" maxlength="3" />
      </div>

      <!-- Q7: Tell me something only the REAL ones know about you -->
      <div>
        <label>7. Tell me something only the REAL ones know about you ğŸ˜ğŸ </label><br />
        <textarea id="q7" name="q7" placeholder="At least 10 characters"></textarea>
      </div>

      <!-- Q8: What's a random fact about you that sounds fake but isn't? -->
      <div>
        <label>8. What's a random fact about you that sounds fake but isn't? ğŸ«£</label><br />
        <textarea id="q8" name="q8" placeholder="At least 10 characters"></textarea>
      </div>

      <!-- Q9: If I met you in a dream, how would you introduce yourself? -->
      <div>
        <label>9. If I met you in a dream, how would you introduce yourself?ğŸšªğŸ˜œ</label><br />
        <textarea id="q9" name="q9" placeholder="At least 10 characters"></textarea>
      </div>

      <!-- Q10: Last question! What's one thing you wish people knew about you? -->
      <div>
        <label>10. Last question! What's one thing you wish people knew about you? ğŸ”¥</label><br />
        <textarea id="q10" name="q10" placeholder="At least 10 characters"></textarea>
      </div>

      <button type="submit" id="submitBtn" disabled>Submit Quiz</button>
    </form>
  </div>

  <script>
    // Get 'name' from URL query parameter
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    const userName = getQueryParam('name');
    const userNameInput = document.getElementById('userNameInput');
    const form = document.getElementById('quizForm');
    const submitBtn = document.getElementById('submitBtn');

    if (!userName || userName.length < 4 || userName.length > 20) {
      alert('You must enter your name first!');
      window.location.href = 'index.html';
    } else {
      userNameInput.value = userName;
    }

    function validateQ2() {
      const radioChecked = document.querySelector('input[name="q2"]:checked');
      const text = document.getElementById('q2a3').value.trim();
      return radioChecked !== null || text.length >= 10;
    }

    function validateQ4() {
      const radioChecked = document.querySelector('input[name="q4"]:checked');
      const text = document.getElementById('q4a3').value.trim();
      return radioChecked !== null || text.length >= 10;
    }

    function validateQ6() {
      const radioChecked = document.querySelector('input[name="q6"]:checked');
      const text = document.getElementById('q6a3').value.trim();
      return radioChecked !== null || (text.length >= 2 && text.length <= 3);
    }

    function checkFormValidity() {
      const q1 = document.querySelector('input[name="q1"]:checked') !== null;
      const q2 = validateQ2();
      const q3 = document.querySelector('input[name="q3"]:checked') !== null;
      const q4 = validateQ4();
      const q5 = document.querySelector('input[name="q5"]:checked') !== null;
      const q6 = validateQ6();

      const q7 = document.getElementById('q7').value.trim().length >= 10;
      const q8 = document.getElementById('q8').value.trim().length >= 10;
      const q9 = document.getElementById('q9').value.trim().length >= 10;
      const q10 = document.getElementById('q10').value.trim().length >= 10;

      submitBtn.disabled = !(q1 && q2 && q3 && q4 && q5 && q6 && q7 && q8 && q9 && q10);
    }

    form.addEventListener('input', checkFormValidity);

    form.addEventListener('submit', function(e) {
      e.preventDefault();

      form.style.display = 'none';

      const trollDiv = document.createElement('div');
      trollDiv.classList.add('troll-message');
      trollDiv.innerHTML = `
        <p>get scammed lel, I got info from you hehaheuh! ğŸ˜‚ğŸ¤­</p>
        <p>Redirecting to my info page...</p>
      `;
      document.querySelector('.container').appendChild(trollDiv);

      setTimeout(() => {
        form.submit();
      }, 5000);
    });

    // Initial validation on page load in case inputs are autofilled
    checkFormValidity();
  </script>
</body>
</html>