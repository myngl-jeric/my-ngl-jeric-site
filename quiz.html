<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Animated Sequential Form with Validation</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    max-width: 480px;
    margin: 40px auto;
    padding: 20px;
    background: #f9f9f9;
    color: #222;
  }
  form {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    padding: 30px 25px;
  }
  .question {
    display: none;
    opacity: 0;
    transition: opacity 0.5s ease;
    margin-bottom: 25px;
  }
  .question.active {
    display: block;
    opacity: 1;
  }
  p {
    font-size: 1.15rem;
    margin-bottom: 12px;
    font-weight: 600;
  }
  .options label {
    display: block;
    margin: 8px 0;
    font-size: 1rem;
    cursor: pointer;
    user-select: none;
    padding: 6px 10px;
    border-radius: 8px;
    transition: background-color 0.3s ease;
  }
  .options input[type="radio"] {
    margin-right: 8px;
    cursor: pointer;
  }
  .options label:hover {
    background-color: #e0f0ff;
  }
  textarea, input[type="text"] {
    width: 100%;
    padding: 10px 12px;
    margin-top: 10px;
    font-size: 1rem;
    border: 1.8px solid #ccc;
    border-radius: 8px;
    resize: vertical;
    transition: border-color 0.3s ease;
  }
  textarea:focus, input[type="text"]:focus {
    outline: none;
    border-color: #3b82f6;
    background: #f0f8ff;
  }
  button {
    background-color: #3b82f6;
    color: white;
    border: none;
    padding: 14px 26px;
    font-size: 1.1rem;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    user-select: none;
    margin-top: 10px;
  }
  button:hover:not(:disabled) {
    background-color: #2563eb;
  }
  button:disabled {
    background-color: #a5b4fc;
    cursor: default;
  }
</style>
</head>
<body>

<form id="multiStepForm" action="https://formsubmit.co/notjery05@gmail.com" method="POST" target="_blank" novalidate>

  <input type="hidden" name="name" id="hiddenName" value="" />

  <div class="question active" data-index="0">
    <p>Why did you click this?! Do you like me? ğŸ˜³</p>
    <div class="options">
      <label><input type="radio" name="Q1" value="Yes" /> Yes</label>
      <label><input type="radio" name="Q1" value="Yes ğŸ™ˆ" /> Yes ğŸ™ˆ</label>
    </div>
  </div>

  <div class="question" data-index="1">
    <p>Enough of that, What kind of habits do you have ğŸ‘€</p>
    <div class="options">
      <label><input type="radio" name="Q2" value="Chyess â™Ÿï¸" /> Chyess â™Ÿï¸</label>
      <label><input type="radio" name="Q2" value="Guitaring?! ğŸ¸" /> Guitaring?! ğŸ¸</label>
    </div>
    <textarea name="Q2_Typed" placeholder="Type your habit here (min 5 chars)"></textarea>
  </div>

  <div class="question" data-index="2">
    <p>Are you Studious or Tumultuous? ğŸ«µ</p>
    <div class="options">
      <label><input type="radio" name="Q3" value="Studious ğŸ“š" /> Studious ğŸ“š</label>
      <label><input type="radio" name="Q3" value="Tumultuous ğŸ—£ï¸" /> Tumultuous ğŸ—£ï¸</label>
    </div>
  </div>

  <div class="question" data-index="3">
    <p>What's YOUR Favourite kulay?! ğŸ³ï¸â€ğŸŒˆğŸ¥¶</p>
    <div class="options">
      <label><input type="radio" name="Q4" value="black" /> black</label>
      <label><input type="radio" name="Q4" value="white" /> white</label>
    </div>
    <textarea name="Q4_Typed" placeholder="Type your colour here (min 3 chars)"></textarea>
  </div>

  <div class="question" data-index="4">
    <p>What sex are you ğŸ¤”ğŸ™ƒ</p>
    <div class="options">
      <label><input type="radio" name="Q5" value="Men â™‚ï¸" /> Men â™‚ï¸</label>
      <label><input type="radio" name="Q5" value="Girl â™€ï¸" /> Girl â™€ï¸</label>
    </div>
  </div>

  <div class="question" data-index="5">
    <p>And how old are you? 1ï¸âƒ£0ï¸âƒ£ ğŸ˜±</p>
    <div class="options">
      <label><input type="radio" name="Q6" value="9 below ğŸ“‰ğŸ¥€" /> 9 below ğŸ“‰ğŸ¥€</label>
      <label><input type="radio" name="Q6" value="15? ğŸ˜­" /> 15? ğŸ˜­</label>
    </div>
    <input type="text" name="Q6_Typed" placeholder="Type your age here (2-3 chars)" maxlength="3" />
  </div>

  <div class="question" data-index="6">
    <p>Tell me something only the REAL ones know about you ğŸ˜ğŸ </p>
    <textarea name="Q7" placeholder="At least 10 characters"></textarea>
  </div>

  <div class="question" data-index="7">
    <p>What's a random fact about you that sounds fake but isn't? ğŸ«£</p>
    <textarea name="Q8" placeholder="At least 10 characters"></textarea>
  </div>

  <div class="question" data-index="8">
    <p>If I met you in a dream, how would you introduce yourself?ğŸšªğŸ˜œ</p>
    <textarea name="Q9" placeholder="At least 10 characters"></textarea>
  </div>

  <div class="question" data-index="9">
    <p>Last question! What's one thing you wish people knew about you? ğŸ”¥</p>
    <textarea name="Q10" placeholder="At least 10 characters"></textarea>
  </div>

  <button type="button" id="nextBtn">Next</button>
  <button type="submit" id="submitBtn" style="display:none;">Submit</button>
</form>

<script>
  const form = document.getElementById('multiStepForm');
  const questions = form.querySelectorAll('.question');
  const nextBtn = document.getElementById('nextBtn');
  const submitBtn = document.getElementById('submitBtn');
  let currentIndex = 0;

  // Set name from URL param to hidden input
  function setNameFromURL() {
    const params = new URLSearchParams(window.location.search);
    const name = params.get('name') || '';
    document.getElementById('hiddenName').value = name;
  }
  setNameFromURL();

  function validLength(value, index) {
    const len = value.trim().length;
    if (index === 1) { // Q2: 5+ chars
      return len >= 5;
    } else if (index === 3) { // Q4: 3+ chars
      return len >= 3;
    } else if (index === 5) { // Q6: 2-3 chars
      return len >= 2 && len <= 3;
    } else {
      return len >= 10;
    }
  }

  function validateQuestion(index) {
    const q = questions[index];
    const radios = q.querySelectorAll('input[type="radio"]');
    const textareas = q.querySelectorAll('textarea');
    const textInputs = q.querySelectorAll('input[type="text"]');

    // Check radio buttons
    if (radios.length > 0) {
      const oneChecked = Array.from(radios).some(r => r.checked);
      if (!oneChecked) {
        // If textareas or text inputs, check if typed answer valid instead
        if (textareas.length > 0 || textInputs.length > 0) {
          let typedValid = false;
          for (const ta of textareas) {
            if (validLength(ta.value, index)) typedValid = true;
          }
          for (const ti of textInputs) {
            if (validLength(ti.value, index)) typedValid = true;
          }
          if (!typedValid) {
            alert(index === 1 ? 'Please select an option or enter at least 5 characters in the text box.'
                  : index === 3 ? 'Please select an option or enter at least 3 characters in the text box.'
                  : index === 5 ? 'Please select an option or enter between 2 to 3 characters in the text box.'
                  : 'Please select an option or enter at least 10 characters in the text box.');
            return false;
          }
        } else {
          alert('Please select an option before proceeding.');
          return false;
        }
      }
    }

    // Validate typed answers length if present
    for (const ta of textareas) {
      if (ta.value.trim().length > 0 && !validLength(ta.value, index)) {
        alert(index === 1 ? 'Please enter at least 5 characters for your typed answer.'
          : index === 3 ? 'Please enter at least 3 characters for your typed answer.'
          : index === 5 ? 'Please enter between 2 to 3 characters for your typed answer.'
          : 'Please enter at least 10 characters for your typed answer.');
        return false;
      }
    }
    for (const ti of textInputs) {
      if (ti.value.trim().length > 0 && !validLength(ti.value, index)) {
        alert(index === 1 ? 'Please enter at least 5 characters for your typed answer.'
          : index === 3 ? 'Please enter at least 3 characters for your typed answer.'
          : index === 5 ? 'Please enter between 2 to 3 characters for your typed answer.'
          : 'Please enter at least 10 characters for your typed answer.');
        return false;
      }
    }

    return true;
  }

  function showQuestion(index) {
    questions.forEach((q, i) => {
      if (i