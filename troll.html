<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Get Scammed</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background: linear-gradient(135deg, #161d2a 0%, #50216d 100%);
      color: #fff;
      font-family: 'Quicksand', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    #timer {
      font-size: 1.6rem;
      font-weight: bold;
      margin-top: 1.3rem;
      background: #232e47;
      padding: 0.7rem 2.5rem;
      border-radius: 1.2rem;
      box-shadow: 0 8px 36px rgba(76, 120, 231, 0.15);
      letter-spacing: 0.06em;
    }
    #puzzle-board {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      grid-template-rows: repeat(3, 100px);
      gap: 2px;
      background: #232e47;
      margin: 2rem auto;
      border-radius: 10px;
      box-shadow: 0 8px 36px rgba(76, 120, 231, 0.21);
      position: relative;
      min-width: 304px;
      min-height: 304px;
    }
    .tile {
      width: 100px; height: 100px;
      position: relative;
      cursor: grab;
      background: #1d2642;
      border-radius: 4px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(30,30,60,0.08);
      transition: box-shadow 0.13s;
      user-select: none;
    }
    .tile img {
      width: 300px; height: 300px;
      position: absolute;
      object-fit: cover;
      pointer-events: none;
      user-select: none;
    }
    .drag-over {
      outline: 3px solid #ffe87c;
      z-index: 2;
    }
    .flyout {
      position: absolute !important;
      z-index: 99;
      transition: transform 1s cubic-bezier(.18,.89,.32,1.28), opacity 1.2s;
      opacity: 0;
      pointer-events: none;
    }
    #troll-message {
      display: none;
      flex-direction: column;
      align-items: center;
      margin-top: 2rem;
    }
    .main {
      background: rgba(30, 30, 60, 0.9);
      padding: 2.5rem 2.7rem;
      border-radius: 2.2rem;
      box-shadow: 0 8px 36px rgba(100, 50, 120, 0.17), 0 1.5px 6px rgba(80, 70, 150, 0.16);
      text-align: center;
      max-width: 90vw;
    }
    .emoji {
      font-size: 2.5rem;
      margin-bottom: 1.2rem;
      animation: bounce 1.5s infinite;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0);}
      50% { transform: translateY(-18px);}
    }
    h2 {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0.7rem 0 0.2rem 0;
      color: # letter:.01em;
    }
    .hint {
      margin-top: 2.: 1.03rem;
      opacity: 0.8;
    }
    a {
      color: #ffe87c;
      text-decoration: underline;
    }
    @media (max-width: 350px) {
      #puzzle-board { grid-template-columns: repeat(3, 25vw); grid-template-rows: repeat(3, 25vw);}
      .tile { width: 25vw; height: 25vw;}
      .tile img { width: 75vw; height: 75vw;}
    }
  </style>
</head>
<body>
  <h2>Solve the Puzzle to Continue üòè</h2>
  <div id="timer">‚è≥ 30s</div>
  <div id="puzzle-board"></div>
  <div id="troll-message">
    <div class="main">
      <div class="emoji">üòÜü§≠</div>
      <h2>get scammed lel, I've got info bout u hehaheuh</h2>
      <div class="hint">
        Redirecting to your <a href="info.html">info page</a> in 5 seconds...
      </div>
    </div>
  </div>
  <script>
    // Settings
    const imgSrc = 'https://i.imgur.com/6Kt2xTm.jpeg';
    const size = 3;
    let timeLimit = 30;
    let timeLeft = timeLimit;
    let timer = null;
    let resetCount = 0;
    let board, tiles;
    const timerEl = document.getElementById('timer');
    const puzzleBoard = document.getElementById('puzzle-board');
    const trollMsg = document.getElementById('troll-message');

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      while(array.every((v,i)=>v===i)) shuffle(array); // ensure not solved
      return array;
    }

    function setupBoard() {
      puzzleBoard.innerHTML = '';
      board = [];
      tiles = [];
      let positions = shuffle([...Array(size*size).keys()]);
      for (let i = 0; i < size*size; i++) {
        board[i] = positions[i];
        let tile = document.createElement('div');
        tile.className = 'tile';
        tile.draggable = true;
        tile.dataset.idx = i;
        tile.style.position = "relative";
        tile.style.zIndex = 1;
        // Place image
        let img = document.createElement('img');
        img.src = imgSrc;
        let x = positions[i] % size, y = Math.floor(positions[i] / size);
        img.style.left = (-x * 100) + 'px';
        img.style.top  = (-y * 100) + 'px';
        tile.appendChild(img);
        puzzleBoard.appendChild(tile);
        tiles.push(tile);
      }
      addDragDrop();
    }

    function addDragDrop() {
      tiles.forEach(tile => {
        tile.addEventListener('dragstart', dragStart);
        tile.addEventListener('dragover', dragOver);
        tile.addEventListener('dragleave', dragLeave);
        tile.addEventListener('drop', dropTile);
        tile.addEventListener('dragend', dragEnd);
      });
    }
    let dragSrcIdx = null;
    function dragStart(e) {
      dragSrcIdx = +this.dataset.idx;
      this.style.opacity = 0.5;
    }
    function dragEnd(e) {
      this.style.opacity = 1;
      tiles.forEach(t => t.classList.remove('drag-over'));
    }
    function dragOver(e) {
      e.preventDefault();
      this.classList.add('drag-over');
    }
    function dragLeave(e) {
      this.classList.remove('drag-over');
    }
    function dropTile(e) {
      e.preventDefault();
      this.classList.remove('drag-over');
      const targetIdx = +this.dataset.idx;
      if (dragSrcIdx === null || dragSrcIdx === targetIdx) return;
      // Swap
      [board[dragSrcIdx], board[targetIdx]] = [board[targetIdx], board[dragSrcIdx]];
      // Redraw both tiles
      redrawTile(dragSrcIdx);
      redrawTile(targetIdx);
      dragSrcIdx = null;
      checkSolved();
    }
    function redrawTile(idx) {
      let tile = tiles[idx];
      let boardVal = board[idx];
      let img = tile.querySelector('img');
      let x = boardVal % size, y = Math.floor(boardVal / size);
      img.style.left = (-x * 100) + 'px';
      img.style.top  = (-y * 100) + 'px';
    }

    function checkSolved() {
      if (board.every((v,i)=>v===i)) {
        clearInterval(timer);
        puzzleBoard.style.display = 'none';
        trollMsg.style.display = 'flex';
        setTimeout(() => {
          window.location.href = "info.html";
        }, 5000);
      }
    }

    function updateTimerDisplay() {
      timerEl.textContent = `‚è≥ ${timeLeft}s`;
    }

    function startTimer() {
      clearInterval(timer);
      timeLeft = timeLimit;
      updateTimerDisplay();
      timer = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) {
          clearInterval(timer);
          flyOutPiecesThenReset();
        }
      }, 1000);
    }

    // Animate pieces flying out
    function flyOutPiecesThenReset() {
      tiles.forEach((tile, i) => {
        tile.classList.add('flyout');
        tile.style.position = 'absolute';
        const row = Math.floor(i / size), col = i % size;
        tile.style.left = (col * 102) + 'px';
        tile.style.top = (row * 102) + 'px';
        const angle = Math.random() * 2 * Math.PI;
        const dist = 250 + Math.random() * 120;
        const tx = Math.cos(angle) * dist;
        const ty = Math.sin(angle) * dist;
        tile.style.transform = `translate(${tx}px, ${ty}px) rotate(${Math.random()*720-360}deg) scale(1.2)`;
        tile.style.opacity = 0;
      });
      setTimeout(doReset, 1200);
    }

    function doReset() {
      resetCount++;
      timeLimit = 30 + resetCount * 5;
      puzzleBoard.innerHTML = '';
      puzzleBoard.style.display = '';
      setupBoard();
      startTimer();
    }

    // Initial setup
    setupBoard();
    startTimer();
  </script>
</body>
</html>